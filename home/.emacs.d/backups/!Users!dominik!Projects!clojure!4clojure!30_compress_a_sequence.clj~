(defn compress
  [coll]
  (loop [result []
         remaining coll]
    (if (empty? remaining)
      result
      (recur (conj result (first remaining))
             (drop-while (partial = (first remaining))
                         remaining)))))

(compress [1 1 1 2 1 2 2 3])

